<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>/go/</title>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/theme/moon.min.css">
    <link rel="stylesheet" href="go.css?v=0.1">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css">
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section data-background-color="#cccccc">
            <!-- agenda. deg, oss, osv -->
            <div class="logo-container bkg-white">
                <!-- todo: fancy spinner eller noe sånt? -->
                <img src="img/go.png" alt="logo" width="400px"/>
                <p class="logo-caption"><small><code>/ɡoʊ, ɡɔn, ɡʌn/</code></small></p>
                <p><small>a reflective rewind of our journey using <code>golang</code></small></p>
            </div>
            <div>
                <p><small><img src="img/thale.png" alt="hello@thale" class="me faded"/><img src="img/pia.png" alt="hello@pia" class="me faded"/>+<img src="img/me.png"
                                                                                                                                                      alt="hello@vegaasen"
                                                                                                                                                      class="me"/> <code>vegaasen
                    programmer@ORFanian</code></small></p>
            </div>
            <!--
            * intro om meg
            * "disclaimers"
                * basert på erfaringer
                * basert på problemer _vi_ har hatt
            * hva presentasjonen handler om
                *
                *
            * forventning på lengde
            * take-away ("kva las du no?")
            -->
        </section>
        <section style="text-align: left">
            <h2>So what is go?</h2>
            <small>
                <blockquote>
                    <p>
                        Go is a programming language that's relatively new,
                        But don't let that fool you, it's already quite true,
                        It's designed to be simple, with syntax so clean,
                        That coding with Go is like a fresh breeze through a scene.
                    </p>
                    <p>
                        It's efficient and fast, and built for concurrency,
                        So you can do many things, all at once, with some ease,
                        You can build web apps, or command-line tools,
                        Or even write systems, with networking rules.
                    </p>
                    <p>
                        And if that's not enough, there's a library so grand,
                        With packages for everything, all at your command,
                        From working with databases, to doing machine learning,
                        Go has got your back, it's quite reassuring.
                    </p>
                    <p>
                        So give Go a try, it won't disappoint,<br/>
                        You might just find, it's the language you anoint.<br/>
                    </p>
                </blockquote>
            </small>
            <small>..according to ChatGPT</small>
        </section>
        <section data-background-color="#eee">
            <section>
                <img src="img/google-2007.png" width="60%"/>
            </section>
            <section>
                <h1>"Fun facts" for <img src="img/go.png" width="10%"/>?</h1>
                <h4>From <img src="img/google-2007.png" width="5%" style="top: 18px; position:relative;"/>, duh</h4>
                <h4>Easy to type (<code>go {command}</code>)</h4>
                <h4>Short and "concise"</h4>
                <h4>GC included</h4>
                <h4>Unused <code>var</code> 👉 compile error</h4>
                <h4>Always <code>by value</code> pointers!</h4>
            </section>
            <section>
                <small>Inception</small>
                <h2>2007 <small>(+/-)</small></h2>
                <small>
                    <ul class="list_emoji list_star">
                        <li>Complexity of other languages (<code>C++</code> etc.)</li>
                        <li>Compilation effectiveness</li>
                        <li>Execution effectiveness</li>
                        <li>Missing structured conventions!</li>
                    </ul>
                </small>
            </section>
            <section>
                <h2>2009</h2>
                <small>beta and open-sourced!</small>
            </section>
            <section>
                <h2>2012</h2>
                <p>v1</p>
                <small><a href="https://go.dev/doc/go1">changelog 👈</a></small>
            </section>
            <section>
                <h2>2022</h2>
                <p>v1.19 (we are here)</p>
                <small><a href="https://go.dev/doc/go1.19">changelog 👈</a></small>
            </section>
            <section>
                <h2>2023-></h2>
                <p>v1.20</p>
                <small><a href="https://go.dev/doc/go1.20">changelog 👈</a></small>
            </section>
        </section>
        <section>
            <p>
                <img src="img/goers.png" width="80%"/>
            </p>
            <p>
                <img src="https://bugcrowd.engineering/assets/blog/esbuild/esbuild.svg" width="130px"/>
                <img src="https://vitejs.dev/logo.svg" width="50px"/>
                <img src="https://www.docker.com/wp-content/uploads/2022/03/vertical-logo-monochromatic.png" width="50px"/>
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/39/Kubernetes_logo_without_workmark.svg/1200px-Kubernetes_logo_without_workmark.svg.png"
                     width="50px"/>
            </p>
        </section>
        <section>
            <img src="img/bring.png" alt="logo" width="500px"/>
            <h3>+</h3>
            <img src="img/go.png" alt="logo" width="400px"/>
        </section>
        <section>
            <section>
                <h2>Shiny new small initiative</h2>
                <h3>Issues</h3>
                <ul class="list_emoji list_rain">
                    <li>Sweden; parcels tend to end up in the wrong pickup point</li>
                    <li>Customer service "swamped" by phone calls 📞</li>
                    <li>Lots of manual work</li>
                </ul>
                <h3>Requirements</h3>
                <ul class="list_emoji list_star">
                    <li>Residends of Sweden ❤️ chatbots</li>
                    <li>Accessible "only" from chatbot 💬 (e.g term "Fel Ombud")</li>
                    <li>Customer selects actual PuP for parcel</li>
                    <li>📧 Email sent to Customer-Service + Customer</li>
                </ul>
            </section>
            <section>
                <h2>👋 to the &laquo;Marianne app&raquo;</h2>
            </section>
            <section>
                <h2>tech alternatives </h2>
                <ul class="list_emoji list_think">
                    <li>React / Kotlin / Ktor</li>
                    <li>React / Kotlin / Spring</li>
                    <li>React / Kotlin / Micronaut</li>
                    <li>React / Kotlin@Native / Spring</li>
                    <li>React / Go</li>
                    <li>Svelte / Kotlin / Spring</li>
                    <li>SvelteKit</li>
                    <li>RedwoodJS</li>
                    <li>Remix</li>
                </ul>
            </section>
            <section>
                <h2><img src="img/go.png" width="300px"/></h2>
                <h2><img src="img/react.png" width="125px"/></h2>
            </section>
        </section>
        <section>
            <section>
                <h2>knowledge+tech+considerations</h2>
            </section>
            <section>
                <h2>Prior knowledge in <img src="img/go.png" width="70px"/></h2>
                <small class="text-success">this much: </small>
            </section>
            <section>
                <h3>Where to start?</h3>
                <ul class="list_emoji list_star">
                    <li><a href="https://gobyexample.com/">Go by example</a></li>
                    <li><a href="https://go.dev/tour/list">Go language tour</a></li>
                    <li><a href="https://pkg.go.dev/">Go package register</a></li>
                    <li><a href="https://go.dev/play/">Go playground</a></li>
                    <li>most importantly: "it's just another language"</li>
                </ul>
            </section>
            <section>
                <h3>Frameworks &amp; techniques</h3>
                <ul class="list_emoji list_star">
                    <li>What exists?</li>
                    <li>Pros and cons?</li>
                    <li>Use known standards and simple tools!</li>
                    <li>Lets have fun!</li>
                    <li>❗Use existing Bring-platform features
                        <ul class="list_none list_cramped">
                            <li>azure (duh)</li>
                            <li>kconf</li>
                            <li>k8s</li>
                            <li>ha-proxy</li>
                            <li>monitoring</li>
                            <li>metrics</li>
                        </ul>
                    </li>
                </ul>
            </section>
            <section>
                <h3>Toolchain</h3>
                <p>Quite a few different options out there. We went head-first towards safeness</p>
                <ul class="list_emoji list_star">
                    <li>
                        IDE
                        <ul>
                            <li>IntelliJ + <strong>Go</strong> &amp; <strong>Go Template</strong> plugins</li>
                        </ul>
                    </li>
                    <li>
                        Runtime
                        <ul>
                            <li>Go v1.19 - (kotlin)</li>
                            <li>Echo - (micronaut)</li>
                            <li>Zerolog - (log4j2)</li>
                            <li>Gobreaker - (resilience4j)</li>
                        </ul>
                    </li>
                    <li>
                        Test (unit, integration and smokes)
                        <ul>
                            <li>Testify - (junit)</li>
                        </ul>
                    </li>
                </ul>
            </section>
        </section>
        <section>
            <section>
                <h1>timeline</h1>
            </section>
            <section>
                <p>wait wait wait wait</p>
                <h2>Decision timeline</h2>
                <p>wait wait wait wait</p>
                <h3>"01.oct <-> 20.nov 2022"</h3>
                <p>wait wait wait wait</p>
            </section>
            <section>
                <h2>Development timeline</h2>
                <img src="img/timeline.gif" width="80%"/>
                <h3>25.nov ... 15.dec 2022 14:51</h3>
            </section>
            <section>
                <img src="img/one-hour-later.png"/>
            </section>
            <section>
                <h3>live in</h3>
                <h1>prod</h1>
                <h3>yo!</h3>
                <h6>(15. december 2022 15:53)</h6>
            </section>
            <section>
                <video controls preload="none" onclick="this.play()" src="img/demo.mov"/>
            </section>
            <section>
                <h2>Extras after going to production?</h2>
                <h4>📊 Added some metrical bits &amp; bobs</h4>
            </section>
            <section>
                <h1>problems</h1>
                <p>..getting back to those..</p>
            </section>
        </section>
        <section>
            <section>
                <p><img src="img/bongobob-typing.gif" width="10%"/></p>
                <h2><small class="text-uber_small">(a short)</small>Introduction to <img src="img/go.png" width="70px"/></h2>
                <p><img src="img/bongobob-typing.gif" width="10%"/></p>
            </section>
            <section>
                <h4>first things first</h4>
                <pre>
    <code>
    $ brew install go
    $ go version
    go version go1.19.6 darwin/arm64
    </code>
                </pre>
                <img src="img/go-plugins.png" width="30%"/>
            </section>
            <section>
                <h4>initialize project</h4>
                <pre><code>
    $ mkdir hello-world-go && cd hello-world-go
    $ go mod init github.com/vegaasen/hello-world-go
    $ cat go.mod
    module github.com/vegaasen/hello-world-go

    go 1.19
    </code></pre>
                <pre><code>
    $ go get github.com/labstack/echo/v4
    $ cat go.mod
    module github.com/vegaasen/hello-world-go

    go 1.19

    require (
	    github.com/labstack/echo/v4 v4.10.0
    )
    </code></pre>
            </section>
            <section>
                <h4>A few basics</h4>
                <pre>
    <code>
    package world

    const name string = ""
    func hello() {
    }
    func Hello() {
    }
    func main() {
        hello();
        Hello()
    }
    </code>
                </pre>
                <ul class="list_none list_cramped">
                    <li>Package-private by default</li>
                    <li>Public if uppercase</li>
                    <li>Go-files is always linted which is built in!</li>
                    <li>Can have multiple <code>main</code>-files</li>
                </ul>
            </section>
            <section>
                <h4>More basics</h4>
                <pre>
    <code>
    var hello string = "Hello!"
    // same as
    var hello = "Hello!"
    // same as
    hello := "Hello!"
    // with variable
    name := "vegard"
    var hello string = fmt.Sprintf("Hello, %s!", name) // familiar.com
    // some other types
    var one int = 1
    var one bool = false
    var one float32 = 2131231232131.2
    someNotSoRandomNumbersInAnArray := []int{0, 2, 4, 6, }
    </code>
                </pre>
            </section>
            <section>
                <h4>Even more basics!</h4>
                <h6>Pass by value <small>(new pointer)</small></h6>
                <pre><code>
    theAnswerToEverything := 41
    Addition(theAnswerToEverything)
    func Addition(someNumber int) {
        someNumber++
    }
    println(theAnswerToEverything) //?
                </code>
                </pre>
                <h6>Pass by reference [*+&amp;] <small>(same pointer)</small></h6>
                <pre><code>
    theAnswerToEverything := 41
    Addition(&theAnswerToEverything)
    func Addition(someNumber *int) {
        *someNumber++
    }
    println(theAnswerToEverything) //?
                </code>
                </pre>
            </section>
            <section>
                <h4>Functions?</h4>
                <pre>
    <code>
    // package-private (default)
    func hello(name string) {
        println(fmt.Sprintf("Hello, %s!", name))
    }
    func hello(name string) string {
        return fmt.Sprintf("Hello, %s!", name)
    }
    // public
    func Hello(name string) string {
        return fmt.Sprintf("Hello, %s!", name)
    }
    </code>
                </pre>
            </section>
            <section>
                <h4><span class="text-strike">Classes</span><span class="text-success">Types</span></h4>
                <pre>
    <code>
    type Person struct {
        FirstName   string  `json:"firstName" xml:"FIRSTNAME"`
        LastName    string  `json:"lastName" xml:"LASTNAME"`
        clever      bool
    }
    func (person Person) GetFullName string {
        return fmt.Sprintf("%s %s", person.FirstName, person.LastName)
    }
    Person {
        FirstName: "Vegard",
        LastName:  "Aasen",
        clever:    false,
    }
    </code></pre>
            </section>
            <section>
                <h4><span class="text-strike">Classes</span><span class="text-success">Types</span></h4>
                <pre><code>
    type Person struct {
        FirstName   string  `json:"firstName" xml:"firstName"`
        LastName    string  `json:"lastName" xml:"lastName"`
        clever      bool
    }

    type SomeSmartInterfaceName interface {
        GetName() string
    }
    </code>
                </pre>
                <pre><code>
    func (person Person) GetName string {
        return fmt.Sprintf("%s %s", person.FirstName, person.LastName)
    }

    func printTheName(ssin SomeSmartInterfaceName) {
        println(ssin.GetName())
    }
    </code>
                </pre>
            </section>
            <section>
                <h4>Enums</h4>
                <pre><code>
    type PersonType string
    const (
        Short PersonType = "short"
        Long  PersonType = "long"
    )
    type Person struct {
        FirstName   string  `json:"firstName" xml:"firstName"`
        LastName    string  `json:"lastName" xml:"lastName"`
        Type  PersonType
    }
    </code>
                </pre>
            </section>
            <section>
                <h4>Errors</h4>
                <pre><code>
    func VeryRandomName(fail bool) (string, error) {
        if fail {
            return "", errors.New("oh no, it failed")
        } else {
            return "vegard", nil
        }
    }
    </code></pre>
            </section>
            <section>
                <h4>Finally (aka <code>defer</code>)</h4>
                <pre><code>
    func GetThatName() (result string) {
        defer func() {
            if len(result) == 0 {
                result = "Fallback fallback fallback!"
            }
        }()
        defer log.Info().Msg("Name was fetched!")
        if name, err := VeryRandomName(true); err != nil {
            return ""
        } else {
            return name
        }
    }
                </code>
                </pre>
            </section>
            <section>
                <h4>(Co)/Goroutines</h4>
                <h6>Lightweight thread execution</h6>
                <pre><code>
    package main
    import (
        "strconv"
        "time"
    )
    func Addition(someNumber int) int {
        someNumber++
        println("Number after complex maths: " + strconv.Itoa(someNumber))
        return someNumber
    }
    func main() {
        someNumber := 42
        go Addition(someNumber)
        println(someNumber)
        time.Sleep(time.Second)
    }
                </code>
                </pre>
            </section>
            <section>
                <h2>Tests!</h2>
                <ul class="list_none list_cramped">
                    <li>Conventions!</li>
                    <li>Files ending in <code>_test.go</code> (auto-excluded from builds)</li>
                    <li>Functions declared as <code>fun TestXXXX() {}</code></li>
                    <li>Run: <code>go test -coverpkg=./src/... ./src/...</code></li>
                </ul>
                <pre><code>
    import (
        "github.com/stretchr/testify/assert"
        "testing"
    )

    func Test_ShouldNotContainSomething(t *testing.T) {
        assert.False(t, DoesThisContainsTheWordSomething("some thing"))
    }

    func Test_ShouldContainSomething(t *testing.T) {
        assert.True(t, DoesThisContainsTheWordSomething("yes something"))
    }
                </code></pre>
            </section>
            <section>
                <h4>bundle-size 💥</h4>
                <img src="img/docker-ls.png" width="50%"/>
                <div>
                    <small>atleast in comparsion with jvm</small>
                </div>
            </section>
            <section>
                <h2>+++++</h2>
            </section>
        </section>
        <section>
            <section>
                <p><img src="img/go.png" width="100px"/></p>
                <p><img src="img/go.png" width="100px"/></p>
                <p><img src="img/go.png" width="100px"/></p>
                <h3>Demo-time!</h3>
                <p><img src="img/go.png" width="100px"/></p>
                <p><img src="img/go.png" width="100px"/></p>
                <p><img src="img/go.png" width="100px"/></p>
            </section>
            <section>
                <h1>Parcels etc</h1>
                <div>
                    <ul>
                        <li>Computer says yes: <code>373325384238074974</code></li>
                        <li>Computer says no: <code>370722151415670650</code></li>
                    </ul>
                </div>
                <div>
                    <h3><small>To <a href="https://applogs.bring.support/goto/0f8f64b70b45820d6946f6ca5c1dac07" target="_blank">applogs</a> (if all fails)</small></h3>
                </div>
            </section>
        </section>
        <section>
            <section>
                <h1>Conclusion</h1>
                <small>the hard truth</small>
            </section>
            <section>
                <h2>Problems, issues &amp; Maintainability</h2>
            </section>
            <section>
                <h2>Pros and cons using Go</h2>
                <ul class="list_none list_emoji list_positive">
                    <li>Lightning fast</li>
                    <li>Simple to get started</li>
                    <li>Few components</li>
                    <li>Small language, easy to grasp</li>
                    <li>Code-style conventions included</li>
                </ul>
                <ul class=" list_emoji list_negative">
                    <li>Verbose at times</li>
                    <li>Not one-size-fit-all</li>
                    <li>Quirks included</li>
                    <li>Not one-size-fit-all</li>
                    <li>Dependencies is..odd</li>
                </ul>
            </section>
            <section>
                <h2>What if we made this on jvm/Kotlin?</h2>
                <h4>Would've been (slightly) faster (maybe).</h4>
                <h4>Would've been more known.</h4>
                <h4>Would not have been as fun.</h4>
                <h4>Would used more resource on k8s.</h4>
                <h4>Would not had this presentation.</h4>
            </section>
        </section>
        <section>
            <section>
                <h2>Resources 🔍</h2>
                <h4><a href="https://gobyexample.com/">gobyexample.com</a></h4>
                <h4><a href="https://go.dev/tour/h4st">go.dev/tour/h4st</a></h4>
                <h4><a href="https://pkg.go.dev/">pkg.go.dev</a></h4>
                <h4><a href="https://go.dev/play/">go.dev/play</a></h4>
                <h3><a href="https://gophercon.eu/">gophercon</a> in june (26-29) in Berlin</h3>
            </section>
            <section>
                <img src="img/tiobe.png" width="70%"/>
            </section>
        </section>
        <section>
            <h3>
                👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋
                <div class="text-rotate">👋</div>
                👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋👋
            </h3>
        </section>
    </div>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/highlight/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
    Reveal.initialize({
        width: 1150,
        height: 700,
        controls: true,
        progress: true,
        slideNumber: true,
        history: true,
        keyboard: true,
        overview: true,
        center: true,
        touch: true,
        loop: false,
        rtl: false,
        shuffle: false,
        fragments: true,
        embedded: false,
        help: true,
        showNotes: false,
        autoSlide: 0,
        autoSlideStoppable: true,
        autoSlideMethod: Reveal.navigateNext,
        mouseWheel: false,
        hideAddressBar: true,
        previewLinks: false,
        transition: 'slide', // none/fade/slide/convex/concave/zoom
        transitionSpeed: 'default', // default/fast/slow
        backgroundTransition: 'fade', // none/fade/slide/convex/concave/zoom
        viewDistance: 3,
        parallaxBackgroundImage: '',
        parallaxBackgroundSize: '',
        parallaxBackgroundHorizontal: null,
        parallaxBackgroundVertical: null
    });
</script>
</body>
</html>
